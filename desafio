from VALID import OKI, ns
import random
import pickle
import subprocess

def limites(n,MAX):
    while n<0 or n>MAX:
        n=OKI(input("ERROR: El número ha de estar entre 0 y"+str(" "+str(MAX)+": ")))
    return n

while True:
    print("ADIVINA NUMERO-SUPER DESAFIO")
    print("""En este juego el usuario ha de adivinar un número
comprendido en una lista predeterminada""")
    print("""ESCOJA EL NIVEL DE DIFICULTAD
NIVEL 1: ENTRE 0 Y 100
NIVEL 2: ENTRE 0 Y 1000
NIVEL 3: ENTRE 0 Y 10000
NIVEL 4: ENTRE 0 Y 100000""")
    level=OKI(input("Escriba aquí su opción: "))
    while level!=1 and level!=2 and level!=3 and level!=4:
        level=OKI(input("Escriba un número comprendido entre 1 y 4: "))
    MIN=0
    MAX=10**(level+1)
    Di=(" 0 y "+str(MAX))
    numero_elegido=random.randint(MIN,MAX)
    #print(numero_elegido)
    intentos=0
    tu_numero=limites(OKI(input("Escribe un numero comprendido entre"+Di+": ")),MAX)
    diferencia=abs(tu_numero-numero_elegido)
    intentos+=1
    while tu_numero!=numero_elegido:
        tu_numero=(limites(OKI(input("Escribe un numero comprendido entre"+Di+": ")),MAX))
        if abs(tu_numero-numero_elegido)>0:
            if (abs(tu_numero-numero_elegido))<diferencia:
                print("TE ESTAS ACERCANDO")
            else:
                print("TE ESTAS ALEJANDO")
        intentos+=1
        if intentos>(MAX/2):
            print(chr(7),("LO SIENTO: Has superado el límite de intentos permitido para este nivel("+str(int(MAX/2))+" intentos)."))
            break
        diferencia=abs(tu_numero-numero_elegido)
        #print(diferencia)
    if tu_numero==numero_elegido:
        print("¡BINGO!")
        print("Lo lograste en",intentos,"intentos")
    conti=ns(input("¿Jugar otra vez?: "))
    if conti==("n"):
        break
    else:
        subprocess.call(["cmd.exe","/C","cls"])
    


